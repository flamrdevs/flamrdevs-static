---
import type { HTMLAttributes } from "astro/types";

import propsplit from "propsplit";

import { getLinkAttrs } from "./../attributes/link";
import type { LinkOptions } from "./../attributes/link";

import { ClassesKeys, classex } from "~/components/classes";

type Props = Omit<HTMLAttributes<"a">, "href"> & { href: string } & LinkOptions;

const [classes, options, attrs] = propsplit(Astro.props, ClassesKeys, ["disabled"]);

const className = classex("root", classes);
---

<a {...attrs} class={className} {...getLinkAttrs(options)}>
	<slot />
</a>

<style>
	.root {
		color: hsl(var(--info-9));
		font-weight: 600;
		@apply outline-none outline-1 outline-offset-1 p-px rounded focus-visible:outline-info-10;

		&:hover {
			@apply underline;
		}

		&[data-disabled] {
			opacity: 0.7;
			@apply no-underline cursor-not-allowed;
		}
	}
</style>
