---
import type { HTMLAttributes } from "astro/types";

import propsplit from "propsplit";

import * as SeparatorKlass from "./Separator.klass";

import { getSeparatorAttrs } from "./../attributes/separator";
import type { SeparatorOptions } from "./../attributes/separator";

import { ClassesKeys, classex } from "~/components/classes";

type Props = Omit<HTMLAttributes<"hr">, "orientation"> & SeparatorOptions & SeparatorKlass.Variants;

const [classes, options, klass, attrs] = propsplit(Astro.props, ClassesKeys, ["orientation"], SeparatorKlass.Root.vk);

const className = classex(SeparatorKlass.Root(klass), classes);
---

<hr {...attrs} class={className} {...getSeparatorAttrs(options)} />

<style>
	.root {
		margin-block: auto;
		margin-inline: auto;
		border-radius: 100%;
		background-image: linear-gradient(var(--lg-deg), rgb(var(--neutral-3)), rgb(var(--neutral-6)), rgb(var(--neutral-3)));

		&[data-orientation="horizontal"] {
			--lg-deg: 90deg;
			width: 100%;
			height: 1px;
		}

		&[data-orientation="vertical"] {
			--lg-deg: 0deg;
			width: 1px;
			height: 100%;
		}

		&__margin {
			&-0 {
				&[data-orientation="horizontal"] {
					margin-block: 0;
				}

				&[data-orientation="vertical"] {
					margin-inline: 0;
				}
			}

			&-1 {
				&[data-orientation="horizontal"] {
					margin-block: 0.5rem;
				}

				&[data-orientation="vertical"] {
					margin-inline: 0.5rem;
				}
			}

			&-2 {
				&[data-orientation="horizontal"] {
					margin-block: 1rem;
				}

				&[data-orientation="vertical"] {
					margin-inline: 1rem;
				}
			}

			&-3 {
				&[data-orientation="horizontal"] {
					margin-block: 1.5rem;
				}

				&[data-orientation="vertical"] {
					margin-inline: 1.5rem;
				}
			}

			&-4 {
				&[data-orientation="horizontal"] {
					margin-block: 2rem;
				}

				&[data-orientation="vertical"] {
					margin-inline: 2rem;
				}
			}
		}
	}
</style>
